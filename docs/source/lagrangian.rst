.. _label_lagrangian:

Lagrangian Analysis
===================

Overview
^^^^^^^^
Lagrangian analysis is an in situ data reduction filter used for time-dependent vector field data generated by a simulation code. With the objective of storing fluid dynamics data in its Lagrangian representation, the filter places and calculates particle trajectories in the flow volume. Calculating and extracting a Lagrangian representation of a flow field offers significantly improved accuracy-storage propositions compared to the traditional (Eulerian) method. Thus, the Lagrangian analysis filter enables data reduction of large vector fields while maintaining high data integrity. 

Lagrangian analysis operates as a two-phase approach. The first phase is performed in situ and involves calculating and extracting flow field information. The second phase is performed post hoc and involves interpolating the extracted information to perform time-dependent flow visualization.

To calculate a Lagrangian representation in situ, we uniformly seed particles in the volume and advect the particles for nonoverlapping pre-determined intervals of time. The calculated particle trajectories are referred to as basis flows. The extracted basis flows are accurate given they use the complete spatial and temporal resolution of the simulation vector field. For each basis flow, the start location and end location of the particle trajectory is known. 

The stored basis flow information can be interpolated post hoc to perform exploratory time-dependent flow visualization. Complete pathlines can be calculated by concatenating results from batches of basis flows. 


Getting Started
^^^^^^^^^^^^^^^
Lagrangian analysis functionality is accessible via Ascent. In situ extraction of time-dependent vector field data is performed using a VTK-m filter and particle advection VTK-m worklet. The Ascent library is light-weight infrastructure that is directly integrated with the simulation code. Depending on the particular use case, Lagrangian analysis can also be directly performed using the VTK-m filter.

To perform in situ extraction, several parameters can be specified to the Lagrangian analysis filter. These include: step size, write frequency (interval length), and the custom seeding resolution in x, y, z direction.

Use Case Examples
^^^^^^^^^^^^^^^^^

Performance
^^^^^^^^^^^

Developers
^^^^^^^^^^


.. toctree::
   :maxdepth: 1
